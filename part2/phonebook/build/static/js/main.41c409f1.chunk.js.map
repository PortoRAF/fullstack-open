{"version":3,"sources":["services/Persons.js","components/Notification.jsx","components/Button.jsx","components/Input.jsx","components/PersonForm.jsx","components/Persons.jsx","components/Filter.jsx","components/App.jsx","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","id","delete","changedPerson","put","successStyle","color","backgroundColor","border","borderRadius","fontSize","padding","marginBottom","errorStyle","Notification","message","success","style","Button","text","type","Input","value","onChange","PersonForm","props","onSubmit","nameValue","numberValue","onNameChange","onNumberChange","Persons","person","onClick","name","number","Filter","filter","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","showWith","setShowWith","alertMessage","setAlertMessage","setSuccess","useEffect","personsService","initialPersons","showMessage","setTimeout","personsToShow","toLowerCase","includes","handleDeleteButton","window","confirm","p","event","preventDefault","every","returnedPerson","concat","find","catch","target","map","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41c409f1.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst replace = (id, changedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, changedPerson);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, replace };\n","import React from \"react\";\n\nconst successStyle = {\n  color: \"green\",\n  backgroundColor: \"lightgrey\",\n  border: \"3px solid green\",\n  borderRadius: \"5px\",\n  fontSize: \"20px\",\n  padding: \"10px\",\n  marginBottom: \"5px\",\n};\n\nconst errorStyle = {\n  color: \"red\",\n  backgroundColor: \"lightgrey\",\n  border: \"3px solid red\",\n  borderRadius: \"5px\",\n  fontSize: \"20px\",\n  padding: \"10px\",\n  marginBottom: \"5px\",\n};\n\nconst Notification = ({ message, success }) => {\n  if (message === null) {\n    return null;\n  }\n\n  if (success) {\n    return <div style={successStyle}>{message}</div>;\n  } else {\n    return <div style={errorStyle}>{message}</div>;\n  }\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst Button = ({ text }) => (\n  <div>\n    <button type=\"submit\">{text}</button>\n  </div>\n);\n\nexport default Button;\n","import React from \"react\";\n\nconst Input = ({ text, value, onChange }) => (\n  <div>\n    {text}: <input value={value} onChange={onChange} />\n  </div>\n);\n\nexport default Input;\n","import React from \"react\";\nimport Button from \"./Button\";\nimport Input from \"./Input\";\n\nconst PersonForm = (props) => {\n  const {\n    onSubmit,\n    nameValue,\n    numberValue,\n    onNameChange,\n    onNumberChange,\n  } = props;\n\n  return (\n    <form onSubmit={onSubmit}>\n      <Input text=\"name\" value={nameValue} onChange={onNameChange} />\n      <Input text=\"number\" value={numberValue} onChange={onNumberChange} />\n      <Button text=\"add\" />\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ person, onClick }) => (\n  <div>\n    {person.name} {person.number}\n    <button onClick={() => onClick(person)}>delete</button>\n  </div>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ filter, onChange }) => (\n  <p>\n    filter shown with\n    <input value={filter} onChange={onChange} />\n  </p>\n);\n\nexport default Filter;\n","import React, { useState, useEffect } from \"react\";\nimport personsService from \"../services/Persons\";\nimport Notification from \"./Notification\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Filter from \"./Filter\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [showWith, setShowWith] = useState(\"\");\n  const [alertMessage, setAlertMessage] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const showMessage = (message, success) => {\n    // if (success) {\n    setSuccess(success);\n    setAlertMessage(message);\n    setTimeout(() => setAlertMessage(null), 3000);\n    // } else {\n    // }\n  };\n\n  const addName = (event) => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n    if (!persons.every((person) => person.name !== newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace old number?`\n        )\n      ) {\n        const changedPerson = persons.find((person) => person.name === newName);\n        personsService\n          .replace(changedPerson.id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons\n                .filter((p) => p.id !== returnedPerson.id)\n                .concat(returnedPerson)\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            showMessage(`Added ${returnedPerson.name}`, true);\n          })\n          .catch(() =>\n            showMessage(\n              `${changedPerson.name} has already been removed from server`,\n              false\n            )\n          );\n      }\n    } else {\n      personsService.create(newPerson).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        showMessage(`Added ${returnedPerson.name}`, true);\n      });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleShowWithChange = (event) => {\n    setShowWith(event.target.value);\n  };\n\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(showWith.toLowerCase())\n  );\n\n  const handleDeleteButton = (person) => {\n    if (window.confirm(\"Delete \" + person.name + \"?\")) {\n      personsService.remove(person.id).then(() => {\n        setPersons(persons.filter((p) => p.id !== person.id));\n        showMessage(\"Contact successfully removed\", true);\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={alertMessage} success={success} />\n      <h2>Add new contact</h2>\n      <PersonForm\n        onSubmit={addName}\n        nameValue={newName}\n        numberValue={newNumber}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {personsToShow.map((person) => (\n        <Persons key={person.id} person={person} onClick={handleDeleteButton} />\n      ))}\n      <Filter filter={showWith} onChange={handleShowWithChange} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}